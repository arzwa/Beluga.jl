language: julia

jobs:
  include:
    - stage: documentation
      julia: 1.3
      os: linux
      script:
        - julia --project=docs/ -e 'using Pkg;
            Pkg.add("Documenter");
            Pkg.add(PackageSpec(url="https://github.com/arzwa/AdaptiveMCMC.jl"));
            Pkg.develop(PackageSpec(path=pwd()));
            Pkg.instantiate()'
        - julia --project=docs/ docs/make.jl
    - stage: test
      os: linux
      julia: 1.3
      script:
        - julia --check-bounds=yes -e 'using Pkg;
            Pkg.add(PackageSpec(url="https://github.com/arzwa/AdaptiveMCMC.jl"));
            Pkg.develop(PackageSpec(path=pwd()));
            Pkg.test("Beluga");'
after_success: skip
